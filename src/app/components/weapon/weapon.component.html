<div class="relative grid grid-cols-6 w-[14.8cm] p-[1.5cm] h-[10.5cm] border-2 border-b-0 gap-[0.2cm] bg-gray-100">
    <div class="flex items-center justify-center w-[32px] h-[32px] rounded-full bg-gray-300 border-2 border-gray-500">
      <img [src]="'assets/images/weapon_type_' + weapon.weapon_type  + '.png'" [alt]="weapon.weapon_type | translate" class="w-[32px] h-[32px] object-contain" />
    </div>
    <div class="col-start-2 col-span-4 text-2xl font-bold text-center">
      {{ weapon.name }}
    </div>
    <div class="relative">
      <div class="flex items-center justify-center w-[32px] h-[32px] rounded-full bg-gray-300 border-2 border-gray-500 absolute right-0" [ngClass]="{ 'invisible': !weapon.is_throwable }">
        <img [src]="'assets/images/property_thrown.png'" [alt]="'Thrown' | translate" class="w-[32px] h-[32px] object-contain" />
      </div>
    </div>
    
    <div class="col-start-1 col-span-5 text-xl flex items-center gap-1">
      <div class="flex items-center justify-center w-[32px] h-[32px] rounded-full bg-gray-300 border-2 border-gray-500">
        <img [src]="'assets/images/durability_type_' + weapon.durability_type  + '.png'" [alt]="weapon.durability_type | translate" class="w-[32px] h-[32px] object-contain" />
      </div>
      <div class="flex gap-2 pl-1">
        <div *ngFor="let n of [].constructor(15); let i = index" 
            class="w-4 h-4 transform rotate-45 border border-gray-500"
            [ngClass]="{ 'bg-gray-700': i < weapon.durability, 'bg-gray-200': i >= weapon.durability }">
        </div>
      </div>
    </div>
    <div class="relative">
      <div class="flex items-center justify-center w-[32px] h-[32px] rounded-full bg-gray-300 border-2 border-gray-500 absolute right-0" [ngClass]="{ 'invisible': !weapon.is_Guard}">
        <img [src]="'assets/images/' + weapon.guard_type  + '.png'" [alt]="'Agile' | translate" class="w-[32px] h-[32px] object-contain" />
      </div>
    </div>
    <div class="col-span-6 row-span-2">
      <div [class.long]="weapon.is_long_description" class="text-sm leading-5 max-h-[3.75rem] overflow-hidden [&.long]:text-xs [&.long]:max-h-[5rem]">{{ weapon.description }}</div>
    </div>
    <div class="grid grid-cols-12 place-items-center col-span-6">
      <div class="col-span-2 relative flex items-center justify-center w-[64px] h-[64px] rounded-full bg-gray-300 border-2 border-gray-500">
        <img [src]="'assets/images/ability_' + weapon.ability + '.png'" [alt]="'Ability' | translate" class="w-[64px] h-[64px] object-contain" />
      </div>
      <div class="col-span-2 relative flex items-center justify-center w-[64px] h-[64px] rounded-full bg-gray-300 border-2 border-gray-500">
        <img [src]="'assets/images/grip_' + weapon.grip_mode + '.png'" [alt]="'Grip mode' | translate" class="w-[64px] h-[64px] object-contain" />
      </div>
      <div class="col-span-2 relative flex items-center justify-center w-[64px] h-[64px] rounded-full bg-gray-300 border-2 border-gray-500">
        <img [src]="'assets/images/range_' + weapon.range_type + '.png'" [alt]="'Range Type' | translate" class="w-[64px] h-[64px] object-contain" />
        <div class="absolute bottom-0 right-0 transform translate-x-1/4 translate-y-1/4 w-10 h-10 bg-white border-2 border-gray-500 rounded-full flex items-center justify-center text-2xl font-serif" *ngIf="weapon.has_range_value">
          {{ weapon.range_value }}
        </div>
      </div>
      <div class="col-span-2 relative flex items-center justify-center w-[64px] h-[64px] rounded-full bg-gray-300 border-2 border-gray-500 shadow-inner text-black font-bold text-3xl">
        {{weapon.base_damage}}
      </div>
      <div class="col-span-2 relative flex items-center justify-center w-[64px] h-[64px] rounded-full bg-gray-300 border-2 border-gray-500">
        <img [src]="'assets/images/' + weapon.ammo_or_wield_effect + '.png'" [alt]="weapon.ammo_or_wield_effect_text | translate" class="w-[64px] h-[64px] object-contain" />
        <div class="absolute bottom-0 right-0 transform translate-x-1/4 translate-y-1/4 w-10 h-10 bg-white border-2 border-gray-500 rounded-full flex items-center justify-center text-2xl font-serif" *ngIf="weapon.ammo_capacity">
          {{ weapon.ammo_capacity }}
        </div>
      </div>
      <div class="col-span-2 relative flex items-center justify-center w-[64px] h-[64px] rounded-full bg-gray-300 border-2 border-gray-500" *ngIf="weapon.reloadrate">
        <img [src]="'assets/images/reload_rate.png'" [alt]="'Reload Rate' | translate" class="w-[64px] h-[64px] object-contain" />
        <div class="absolute bottom-0 right-0 transform translate-x-1/4 translate-y-1/4 w-10 h-10 bg-white border-2 border-gray-500 rounded-full flex items-center justify-center text-2xl font-serif">
          {{ weapon.reloadrate }}
        </div>
      </div>
      <div class="col-start-1 col-span-6 row-start-1 row-span-2">
        <img [src]="weapon.image" alt="{{ weapon.name }}" class="h-[160px]" />
      </div>
    </div>

    <div class="col-span-6 text-[10px] text-center">
      <strong>{{ 'Notes' | translate }}</strong> {{ weapon.notes }}
    </div>
  </div>

  <div class="grid grid-cols-6 w-[14.8cm] px-[1.5cm] py-[0.5cm] border-2 border-t-0 gap-[0.5cm] bg-gray-100">
    <div class="col-span-6 grid grid-cols-6" *ngFor="let attack of weapon.attacks">
      <div class="col-span-5 text-lg">
        {{ attack.is_basic ? ('Basic' | translate) : '' }} {{ attack.attack_name }} {{ attack.is_secondary ? ('Secondary' | translate)  : '' }} {{ attack.stamina }}
      </div>
      <div class="flex items-center justify-center w-[32px] h-[32px] rounded-full bg-gray-300 border-2 border-gray-500 row-span-2">
        {{ attack.damage_type }}
      </div>
      <div class="col-span-3 text-sm">
        {{ attack.damage_formula }}
      </div>
      <div class="col-span-2 text-sm" *ngIf="attack.has_own_ability">
        {{ attack.ability }}
      </div>
      <div class="col-span-6 text-sm">
        {{ attack.description }}
      </div>
      <div class="col-span-6 text-sm" *ngIf="attack.is_critical_success">
        <strong>{{ 'Critical success' | translate }}</strong> {{ attack.critical_success }}
      </div>
    </div>
  </div>
  