<!-- weapon-form.component.html -->
<form [formGroup]="weaponForm" (ngSubmit)="onSubmit()" class="p-4 space-y-6 max-w-6xl mx-auto">
  <!-- Sección Información Básica -->
  <p-card header="Información Básica" class="mb-6">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <!-- Nombre e ID -->
      <div class="field">
        <label for="name" class="block mb-2 font-medium">Nombre del Arma</label>
        <input pInputText id="name" formControlName="name" class="w-full">
        <small *ngIf="weaponForm.get('name')?.errors" class="text-red-500 block mt-1">
          <span *ngIf="weaponForm.get('name')?.hasError('required')">Campo requerido</span>
          <span *ngIf="weaponForm.get('name')?.hasError('minlength')">Mínimo 2 caracteres</span>
          <span *ngIf="weaponForm.get('name')?.hasError('maxlength')">Máximo 100 caracteres</span>
        </small>
      </div>

      <div class="field">
        <label for="id" class="block mb-2 font-medium">ID Único</label>
        <input pInputText id="id" formControlName="id" class="w-full">
        <small class="text-gray-500 block mt-1">Autogenerado si se deja vacío</small>
      </div>

      <!-- Descripciones -->
      <div class="field md:col-span-2">
        <label for="short_description" class="block mb-2 font-medium">Descripción Corta</label>
        <textarea id="short_description" formControlName="short_description" 
                  rows="2" class="w-full"></textarea>
        <small class="text-gray-500 block mt-1">Máximo 144 caracteres</small>
      </div>

      <div class="field md:col-span-2">
        <label for="description" class="block mb-2 font-medium">Descripción Completa</label>
        <textarea id="description" formControlName="description" 
                  rows="4" class="w-full"></textarea>
      </div>
    </div>
  </p-card>

  <!-- Sección Propiedades de Combate -->
  <p-card header="Propiedades de Combate" class="mb-6">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
      <!-- Habilidad y Daño -->
      <div class="field">
        <label class="block mb-2 font-medium">Habilidad Principal</label>
        <p-selectButton [options]="enums.Ability" formControlName="ability"></p-selectButton>
      </div>

      <div class="field">
        <label class="block mb-2 font-medium">Daño Base</label>
        <input type="number" formControlName="base_damage" min="1" class="w-full">
      </div>

      <!-- Rango y Alcance -->
      <div class="field">
        <label class="block mb-2 font-medium">Rango de Ataque</label>
        <p-selectButton [options]="enums.Attack_Range" formControlName="attack_range"></p-selectButton>
      </div>

      <div class="field" *ngIf="weaponForm.get('attack_range')?.value === 'reach'">
        <label class="block mb-2 font-medium">Alcance (múltiplos de 5)</label>
        <input type="number" formControlName="reach_range" min="5" step="5" class="w-full">
      </div>
    </div>
  </p-card>

  <!-- Sección Durabilidad -->
  <p-card header="Durabilidad" class="mb-6">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div class="field">
        <label class="block mb-2 font-medium">Tipo de Durabilidad</label>
        <p-selectButton [options]="enums.Durability_Type" formControlName="durability_type"></p-selectButton>
      </div>

      <div class="field">
        <label class="block mb-2 font-medium">Valor de Durabilidad</label>
        <input type="number" formControlName="durability" min="0" max="10" class="w-full">
      </div>

      <div class="field flex items-center gap-2">
        <input type="checkbox" formControlName="is_throwable">
        <label>¿Es arrojadiza?</label>
      </div>
    </div>
  </p-card>

  <!-- Sección Munición/Agarre -->
  <p-card header="Munición y Agarre" class="mb-6">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div class="field">
        <label class="block mb-2 font-medium">Modo de Agarre</label>
        <p-selectButton [options]="enums.Grip_Mode" formControlName="grip_mode"></p-selectButton>
      </div>

      <div class="field">
        <label class="block mb-2 font-medium">Efecto de Empuñadura</label>
        <p-selectButton [options]="enums.Wield_Effect" formControlName="wield_effect"></p-selectButton>
      </div>
    </div>
  </p-card>

  <!-- Sección Imagen -->
  <p-card header="Imagen del Arma" class="mb-6">
    <div class="field">
      <label class="block mb-2 font-medium">URL de la Imagen</label>
      <input type="text" formControlName="image" class="w-full">
    </div>
  </p-card>

  <!-- Botón de Envío -->
  <div class="text-right">
    <button pButton type="submit" label="Guardar Arma" [disabled]="!weaponForm.valid"
           class="p-button-primary text-lg px-6 py-3"></button>
  </div>
</form>